<button id="theme-toggle" aria-label="Cambiar tema">
  <svg id="theme-icon" width="24" height="24" viewBox="0 0 24 24" fill="#FFFFFF" xmlns="http://www.w3.org/2000/svg">
    <path d="M21.752 15.002a9.718 9.718 0 0 1-7.977 5.362 9.734 9.734 0 0 1-7.109-2.519 9.734 9.734 0 0 1-3.046-6.946c0-3.927 2.337-7.392 5.944-8.952a.75.75 0 0 1 .977.977 7.737 7.737 0 0 0-.51 2.738 7.745 7.745 0 0 0 2.03 5.263 7.745 7.745 0 0 0 5.263 2.03c.962 0 1.915-.18 2.738-.51a.75.75 0 0 1 .94 1.043z"/>
  </svg>
</button>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggleBtn = document.getElementById('theme-toggle');
    const root = document.documentElement;

    const sunIcon = `
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
       stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"
       xmlns="http://www.w3.org/2000/svg">
    <circle cx="12" cy="12" r="5"/>
    <line x1="12" y1="1" x2="12" y2="3"/>
    <line x1="12" y1="21" x2="12" y2="23"/>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
    <line x1="1" y1="12" x2="3" y2="12"/>
    <line x1="21" y1="12" x2="23" y2="12"/>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
  </svg>
`;

    const moonIcon = `
      <svg width="24" height="24" viewBox="0 0 24 24" fill="#FFFFFF" xmlns="http://www.w3.org/2000/svg">
        <path d="M21.752 15.002a9.718 9.718 0 0 1-7.977 5.362 9.734 9.734 0 0 1-7.109-2.519 9.734 9.734 0 0 1-3.046-6.946c0-3.927 2.337-7.392 5.944-8.952a.75.75 0 0 1 .977.977 7.737 7.737 0 0 0-.51 2.738 7.745 7.745 0 0 0 2.03 5.263 7.745 7.745 0 0 0 5.263 2.03c.962 0 1.915-.18 2.738-.51a.75.75 0 0 1 .94 1.043z"/>
      </svg>`;

    function updateIcon(theme) {
      toggleBtn.innerHTML = theme === 'dark' ? sunIcon : moonIcon;
    }

    const saved = localStorage.getItem('quarto-theme') || 'dark';
    root.setAttribute('data-theme', saved);
    updateIcon(saved);

    toggleBtn.addEventListener('click', () => {
      const current = root.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      root.setAttribute('data-theme', next);
      localStorage.setItem('quarto-theme', next);
      updateIcon(next);
    });
  });
</script>

<style>
  #theme-toggle {
    position: fixed;
    top: 1rem;
    right: 1rem;
    background: transparent;
    border: none;
    cursor: pointer;
    z-index: 9999;
  }
  #theme-toggle svg {
    width: 24px;
    height: 24px;
    fill: var(--color-primario, #ffffff);
    transition: transform 0.3s ease;
  }
  #theme-toggle:hover svg {
    transform: rotate(20deg);
  }
</style>


<header id="custom-header">
  <img src="recursos/umalogo.png" id="logo-header" />
  <div id="header-text">
    <span class="faculty-name">Escuela Técnica Superior de Ingeniería Informática</span>
    <span class="author-name">Alberto Montero Solera</span>
  </div>
</header>

<!-- Espaciador que se activa al hacer scroll -->
<div id="header-spacer"></div>

<script>
  const header = document.getElementById("custom-header");
  const spacer = document.getElementById("header-spacer");

  window.addEventListener("scroll", () => {
    if (window.scrollY > 50) {
      header.classList.add("scrolled");
      spacer.style.height = header.offsetHeight + "px"; // reserva el hueco
    } else {
      header.classList.remove("scrolled");
      spacer.style.height = "0px"; // vuelve a ser parte del flujo normal
    }
  });
</script>